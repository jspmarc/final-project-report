\chapter{Pendahuluan}

\section{Latar Belakang}

Dalam pengembangan kota-kota di Indonesia, dibutuhkan kendaraan umum yang aman,
murah, mudah diakses, dan berkelanjutan (\textit{sustainable}). Salah satu moda
transportasi umum yang dapat memenuhi keempat hal tersebut adalah trem listrik.
Untuk mengurangi biaya operasional, trem listrik akan memanfaatkan inteligensi
buatan dan algoritma kendali sehingga trem tidak membutuhkan masinis dan bisa
beroperasi secara otonom.

Pengembangan teknologi kecerdasan buatan dan algoritma kendali otonom yang
digunakan memerlukan banyak pengujian dan data. Proses pengumpulan data dan
pengujian ini akan mahal dan membutuhkan waktu yang lama apabila dilakukan
secara langsung. Selain itu, akan berbahaya apabila algoritma belum matang. Oleh
karena itu, pengujian algoritma kendali akan menggunakan simulasi.

Pembuatan sistem simulasi ini bertujuan untuk mempermudah dan mempercepat
pengerjaan proyek \textit{autonomous tram}. Pembuatan simulasi dikerjakan oleh
tim simulasi. Tugas akhir dan proyek \textit{capstone} ini adalah bagian dari
pengerjaan pekerjaan pada tim simulasi. Selain tim simulasi, terdapat tiga tim
lain, yaitu
\begin{enumerate}
	\item tim \textit{decision making}: bertugas untuk mengembangkan program dan
	      algoritma kendali untuk trem otonom,
	\item tim \textit{localization dan mapping}: bertugas untuk memetakan data
	      lokasi ke dalam program kendali yang disebut GRS, dan
	\item tim persepsi: bertugas mengembangkan model pembelajaran mesin untuk
	      memahami/membaca bacaan dari sensor, seperti sensor lidar dan kamera,
	      untuk kemudian digunakan pada algoritma kendali.
\end{enumerate}

Simulasi dijalankan pada sebuah sistem simulasi dengan skema simulasi
\textit{hardware-in-the-loop} (HILS). Artinya, perangkat keras yang akan
digunakan pada produk akhir nanti akan digunakan juga pada simulasi. Simulasi
HILS membutuhkan dua komputer:
\begin{enumerate}
	\item komputer untuk menjalankan program simulator dan menghasilkan data
	      sensor virtual (disebut komputer SILS), dan
	\item komputer yang akan digunakan pada trem; mengandung algoritma
	      kendali serta pembelajaran mesin dan menghasilkan kendali untuk trem
	      (dapat dilakukan pada dua komputer yang disebut AGX dan RKB).
\end{enumerate}

Perangkat keras yang akan digunakan pada produk akhir adalah NVIDIA Pegasus,
pada proyek ini disebut AGX. Akan tetapi untuk pengujian dan karena AGX sering
digunakan di lapangan, ada komputer cadangan yang disebut RKB. Komputer RKB
digunakan untuk pengujian program sebelum dikompilasi dan disalin ke AGX.

Komputer SILS dan AGX/RKB akan terhubung melalui sebuah jaringan lokal (LAN).
Oleh karena itu, lingkungan simulasi akan memiliki jaringan yang cukup ideal
karena latensi seharusnya tidak terlalu besar dan tidak banyak gangguan pada
jaringan. Kendati demikian, mekanisme komunikasi yang dikembangkan harus tetap
dapat mengirimkan data \textit{binary} yang besar dengan cukup cepat (agar tidak
menghambat jalannya kinerja program simulator) dan tanpa gangguan. Hal ini
karena data sensor virtual, seperti sensor kamera dan lidar, yang disimulasikan
akan dikirim ke program kendali dalam format \textit{binary}. Selain
\textit{binary}, protokol juga harus dapat mengirimkan data dalam format
\textit{integer}. Kendali dari algoritma kendali adalah data dengan tipe data
\textit{integer}.

Untuk mendukung simulasi, program simulator yang akan digunakan adalah CARLA
(\textit{car learning to act}). Pada CARLA, penggunanya dapat men-\textit{spawn}
kendaraan sepeda, mobil, dan sepeda motor. Selain itu, penggunanya juga dapat
men-\textit{spawn} pejalan kaki. Untuk menyimulasikan sensor, CARLA menyediakan
beberapa sensor virtual yang dapat dihubungkan ke kendaraan yang
di-\textit{spawn}. Data dari sensor virtual ini dapat dibaca secara asinkron
menggunakan API dengan bahasa Python.

Hasil akhir dari tugas akhir ini adalah sebuah sistem HILS yang memanfaatkan
suatu pustaka. Pustaka tersebut terdiri daari pustaka C++ yang digunakan pada
program kendali untuk menerima data dan sebuah pustaka Python yang digunakan
pada \textit{custom agent} untuk \textit{custom scenario runner} yang merupakan
hasil akhir topik tugas akhir yang lain pada proyek \textit{capstone} ini. Kedua
pustaka ini akan disebut sebagai ``hils-connector''.

\section{Rumusan Masalah}

Pada keadaan saat ini, komputer SILS dan komputer AGX/RKB dihubungkan
menggunakan layanan web (\textit{web service}). Layanan web yang ada menggunakan
protokol HTTP untuk komunikasinya. Selain itu, terdapat penulisan dan pembacaan
ke \textit{file} dan basis data SQL pada proses komunikasi. Adanya operasi
\textit{file} dan basis data pada layanan web menyebabkan \textit{I/O overhead}
yang besar dan berdampak pada \textit{overhead} yang besar ketika melakukan
pertukuran data antarserver. Karena adanya \textit{overhead} besar ini, sistem
simulasi menjadi tidak reliabel. Selain masalah latensi, sistem menjadi lebih
kompleks.

Selain itu, layanan web ini belum mendukung pembacaan sensor CARLA dan juga
belum mendukung pengiriman data \textit{binary}. Pada layanan web, data yang
dikirimkan masih data CARLA \textit{measurement} (seperti posisi x dan y,
kecepatan, dan jarak relatif) yang didapatkan langsung dari API Python CARLA,
dan bukan dari sensor.

Berdasarkan latar belakang serta keadaan saat ini, definisi rumusan masalah
untuk tugas akhir ini adalah sebagai berikut.
\begin{enumerate}
	\item Bagaimana cara mengimplementasikan mekanisme komunikasi dengan kinerja
	      yang cepat dalam pengiriman data untuk kebutuhan simulasi
	      \textit{hardware-in-the-loop} kendaraan otonom?
	\item Bagaimana cara agar sistem simulasi dapat mengirim, menerima, dan
	      memanfaatkan berbagai jenis data sensor?
\end{enumerate}

\section{Tujuan}

Tugas akhir ini memiliki 2 tujuan utama, yaitu
\begin{enumerate}
	\item mengimplementasikan mekanisme komunikasi yang reliabel untuk sistem
	      simulasi \textit{hardware-in-the-loop} kendaraan otonom, dan
	\item mengimplementasikan sistem simulasi yang dapat mengirimkan,
	      menerima, dan memanfaatkan data dari berbagai jenis sensor.
\end{enumerate}

\section{Batasan Masalah}

Batasan pada pengerjaan tugas akhir ini adalah

\begin{enumerate}
	\item pengujian kinerja akan dilakukan pada komputer RKB dan SILS yang
	      terdapat di gedung Lab Teknologi VIII ITB;
	\item pengujian hanya akan menggunakan sebuah sensor kamera virtual dan
	      sebuah sensor GNSS virtual; dan
	\item pengujian kinerja mekanisme komunikasi menggunakan layanan web hanya akan
	      dilakukan secara teoretis karena kesulitan dalam menjalankan layanan web
	      dan harus ada banyak modifikasi agar secara fitur sepadan dengan
	      implementasi mekanisme komunikasi baru.
\end{enumerate}

\section{Metodologi}

% Tuliskan semua tahapan yang akan dilalui selama pelaksanaan tugas akhir.
% Tahapan ini spesifik untuk menyelesaikan persoalan tugas akhir. Tahapan studi
% literatur tidak perlu dituliskan karena ini adalah pekerjaan yang harus Anda
% lakukan selama proses pelaksanaan tugas akhir.

Tahapan pelaksanaan tugas akhir ini adalah sebagai berikut.

\begin{enumerate}
	\item Mempelajari CARLA.
	\item Menganalisis kebutuhan sistem.
	\item Mempelajari implementasi di kondisi sekarang.
	\item Eksplorasi kakas dan metode komunikasi yang akan digunakan.
	\item Perancangan pustaka.
	\item Implementasi pustaka.
	\item Pengujian pustaka.
	\item Menambahkan pustaka ke program GRS (program kendali) dan
	      \textit{custom agent}.
	\item Pengumpulan dan pengolahan data kinerja.
	\item Analisis hasil data kinerja.
\end{enumerate}

\section{Sistematika Pembahasan}

% Subbab ini berisi penjelasan ringkas isi per bab. Penjelasan ditulis satu
% paragraf per bab buku.

Pada buku ini akan terdapat lima bab, yaitu
\begin{enumerate}
	\item Pendahuluan,
	\item Studi Literatur,
	\item Analisis dan Rancangan Sistem HILS,
	\item Implementasi dan Pengujian Sistem HILS, dan
	\item Kesimpulan dan Saran.
\end{enumerate}

Bab pertama adalah bab pendahuluan yang membahas masalah dan latar belakang
masalah. Lalu, dari masalah tersebut dirumuskan tujuan dari penelitian yang
dilakukan. Agar penelitian tidak terlalu luas, bab pendahuluan juga membahas
batasan masalah. Terakhir, bab pendahuluan juga membahas metodologi penelitian.

Selanjutnya adalah bab studi literatur. Sesuai namanya, bab ini membahas hasil
studi literatur terkait topik tugas akhir yang diangkat, yaitu membuat sistem
HILS untuk simulasi trem otonom. Bab ini akan menjabarkan perangkat lunak yang
digunakan, misalnya \textit{simulator} CARLA dan beberapa metode komunikasi,
perangkat keras yang digunakan, yaitu trem dan NVIDIA Pegasus, serta hasil
penelitian sebelumnya yang terkait topik tugas akhir.

Bab ketiga adalah analisis dan rancangan untuk sistem HILS. Bab ini membahas
hasil analisis masalah pada sistem komunikasi yang ada. Dari masalah-masalah
tersebut akan dianalisis kebutuhan-kebutuhan, baik fungsional maupun
non-fungsional untuk mengembangkan sistem simulasi yang lebih baik. Setelah
dianalisis akan dibuat rancangan dari solusi tersebut.

Setelah dianalisis dan dirancang, dilakukan implementasi dan pengujian. Hasil
implementasi dan pengujian dituangkan pada bab keempat buku ini. Detail
implementasi pustaka dan metode pengujian akan dibahas pada bab ini. Selain itu, bab ini juga akan membahas data terkait kinerja mekanisme komunikasi
yang dibuat dan hasilnya jika dibandingkan dengan metode yang sudah ada.

Setelah semuanya selesai, dituliskan kesimpulan dari analisis kinerja dan
implementasi pustaka. Selain itu, bab ini juga terdapat saran untuk memperbaiki
ataupun melanjutkan penelitian dari buku ini.
